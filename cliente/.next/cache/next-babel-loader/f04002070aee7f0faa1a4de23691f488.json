{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Joan\\\\Desktop\\\\AlkemyReactChallenge\\\\cliente\\\\pages\\\\editaroperacion.js\";\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport Alerta from '../components/Alerta';\nimport Layout from '../components/Layout';\nimport Swal from 'sweetalert2';\nimport authContext from '../context/auth/authContext';\nimport operacionContext from '../context/operaciones/operacionContext';\n\nconst editarOperacion = () => {\n  // Next router\n  const router = useRouter(); // Acceder al state\n\n  const AuthContext = useContext(authContext);\n  const {\n    mensaje,\n    usuarioAutenticado\n  } = AuthContext;\n  const OperacionContext = useContext(operacionContext);\n  let {\n    actualizarOperacion,\n    operacion\n  } = OperacionContext;\n  operacion = operacion || [{}];\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n\n    if (token) {\n      usuarioAutenticado();\n    } else {\n      router.push('/login');\n    } // eslint-disable-next-line\n\n  }, []); // Formulario y validación con formik y Yup\n\n  const formik = useFormik({\n    initialValues: {\n      _id: operacion[0]._id,\n      concepto: operacion[0].concepto,\n      monto: operacion[0].monto,\n      fecha: operacion[0].fecha,\n      tipo: operacion[0].tipo,\n      categoria: operacion[0].categoria,\n      usuario: operacion[0].usuario\n    },\n    validationSchema: Yup.object({\n      concepto: Yup.string().required('El concepto es obligatorio'),\n      monto: Yup.number().required('El monto es obligatorio'),\n      fecha: Yup.date().required('La fecha es obligatoria'),\n      tipo: Yup.string().required('El tipo es obligatorio'),\n      categoria: Yup.string().required('La categoría es obligatoria')\n    }),\n    onSubmit: valores => {\n      actualizarOperacion(valores); // mostrar mensaje ok\n\n      Swal.fire({\n        position: 'center',\n        icon: 'success',\n        title: 'Operación editada correctamente',\n        width: 400,\n        height: 400,\n        timer: 2000,\n        confirmButtonColor: '#60A5FA',\n        confirmButtonText: 'Ok!'\n      });\n      router.push('/listado'); // reiniciar el form\n    }\n  });\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"md:w-4/5 xl:w-3/5 mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, __jsx(\"h2\", {\n    className: \"text-3xl font-sans font-bold text-black-500 text-center my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"Editar Operaci\\xF3n\"), __jsx(\"div\", {\n    className: \"flex justify-center mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"w-full max-w-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, __jsx(\"form\", {\n    className: \"bg-white rounded shadow-md px-8 pt-6 pb-8 mb-20\",\n    onSubmit: formik.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 23\n    }\n  }, __jsx(\"label\", {\n    className: \"block text-black text-sm font-bold mb-2\",\n    htmlFor: \"concepto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 27\n    }\n  }, \"Concepto\"), __jsx(\"input\", {\n    type: \"text\",\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"concepto\",\n    placeholder: \"Concepto\",\n    value: formik.values.concepto,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 27\n    }\n  }), formik.touched.concepto && formik.errors.concepto ? __jsx(\"div\", {\n    className: \"my-2 bg-gray-200 border-l-4 border-red-500 text-red-700 p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 29\n    }\n  }, __jsx(\"p\", {\n    className: \"font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 33\n    }\n  }, \"Error\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 33\n    }\n  }, formik.errors.concepto, \" \")) : null), __jsx(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 23\n    }\n  }, __jsx(\"label\", {\n    className: \"block text-black text-sm font-bold mb-2\",\n    htmlFor: \"monto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 27\n    }\n  }, \"Monto\"), __jsx(\"input\", {\n    type: \"number\",\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"monto\",\n    placeholder: \"Monto\",\n    value: formik.values.monto,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 27\n    }\n  }), formik.touched.monto && formik.errors.monto ? __jsx(\"div\", {\n    className: \"my-2 bg-gray-200 border-l-4 border-red-500 text-red-700 p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 29\n    }\n  }, __jsx(\"p\", {\n    className: \"font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 33\n    }\n  }, \"Error\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 33\n    }\n  }, formik.errors.monto, \" \")) : null), __jsx(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 23\n    }\n  }, __jsx(\"label\", {\n    className: \"block text-black text-sm font-bold mb-2\",\n    htmlFor: \"fecha\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 27\n    }\n  }, \"Fecha\"), __jsx(\"input\", {\n    type: \"date\",\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"fecha\",\n    placeholder: \"Fecha\",\n    value: formik.values.fecha,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 27\n    }\n  }), formik.touched.fecha && formik.errors.fecha ? __jsx(\"div\", {\n    className: \"my-2 bg-gray-200 border-l-4 border-red-500 text-red-700 p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 29\n    }\n  }, __jsx(\"p\", {\n    className: \"font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 33\n    }\n  }, \"Error\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 33\n    }\n  }, formik.errors.fecha, \" \")) : null), operacion[0].tipo === 'Ingreso' ? __jsx(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 27\n    }\n  }, __jsx(\"label\", {\n    className: \"block text-black text-sm font-bold mb-2\",\n    htmlFor: \"categoria\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 31\n    }\n  }, \"Categoria\"), __jsx(\"select\", {\n    type: \"text\",\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"categoria\",\n    placeholder: \"Categoria\",\n    value: formik.values.categoria,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 31\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    defaultValue: true,\n    disabled: true,\n    hidden: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 37\n    }\n  }, \"Categor\\xEDa\"), __jsx(\"option\", {\n    value: \"Regalo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 37\n    }\n  }, \"Regalo\"), __jsx(\"option\", {\n    value: \"Sueldo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 37\n    }\n  }, \"Sueldo\"), __jsx(\"option\", {\n    value: \"Pr\\xE9stamo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 37\n    }\n  }, \"Pr\\xE9stamo\")), formik.touched.categoria && formik.errors.categoria ? __jsx(\"div\", {\n    className: \"my-2 bg-gray-200 border-l-4 border-red-500 text-red-700 p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 33\n    }\n  }, __jsx(\"p\", {\n    className: \"font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 37\n    }\n  }, \"Error\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 37\n    }\n  }, formik.errors.categoria, \" \")) : null) : __jsx(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 27\n    }\n  }, __jsx(\"label\", {\n    className: \"block text-black text-sm font-bold mb-2\",\n    htmlFor: \"categoria\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 31\n    }\n  }, \"Categoria\"), __jsx(\"select\", {\n    type: \"text\",\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"categoria\",\n    placeholder: \"Categoria\",\n    value: formik.values.categoria,\n    onChange: formik.handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 31\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    defaultValue: true,\n    disabled: true,\n    hidden: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 37\n    }\n  }, \"Categor\\xEDa\"), __jsx(\"option\", {\n    value: \"Alimentos y bebidas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 37\n    }\n  }, \"Alimentos y bebidas\"), __jsx(\"option\", {\n    value: \"Art\\xEDculos de limpieza\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 37\n    }\n  }, \"Art\\xEDculos de limpieza\"), __jsx(\"option\", {\n    value: \"Esparcimiento\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 37\n    }\n  }, \"Esparcimiento\"), __jsx(\"option\", {\n    value: \"Servicios\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 37\n    }\n  }, \"Servicios\"), __jsx(\"option\", {\n    value: \"Perfumer\\xEDa\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 37\n    }\n  }, \"Perfumer\\xEDa\"), __jsx(\"option\", {\n    value: \"Transporte\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 37\n    }\n  }, \"Transporte\")), formik.touched.categoria && formik.errors.categoria ? __jsx(\"div\", {\n    className: \"my-2 bg-gray-200 border-l-4 border-red-500 text-red-700 p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 33\n    }\n  }, __jsx(\"p\", {\n    className: \"font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 37\n    }\n  }, \"Error\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 37\n    }\n  }, formik.errors.categoria, \" \")) : null), __jsx(\"input\", {\n    type: \"submit\",\n    className: \"bg-blue-400 hover:bg-gray-900 w-full p-2 text-white uppercase font-bold\",\n    value: \"Editar Operaci\\xF3n\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 23\n    }\n  }))))));\n};\n\nexport default editarOperacion;","map":{"version":3,"sources":["C:/Users/Joan/Desktop/AlkemyReactChallenge/cliente/pages/editaroperacion.js"],"names":["React","useContext","useEffect","useRouter","useFormik","Yup","Alerta","Layout","Swal","authContext","operacionContext","editarOperacion","router","AuthContext","mensaje","usuarioAutenticado","OperacionContext","actualizarOperacion","operacion","token","localStorage","getItem","push","formik","initialValues","_id","concepto","monto","fecha","tipo","categoria","usuario","validationSchema","object","string","required","number","date","onSubmit","valores","fire","position","icon","title","width","height","timer","confirmButtonColor","confirmButtonText","handleSubmit","values","handleChange","touched","errors"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport { useFormik } from 'formik';\r\n\r\nimport * as Yup from 'yup';\r\n\r\nimport Alerta from '../components/Alerta';\r\nimport Layout from '../components/Layout';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport authContext from '../context/auth/authContext';\r\nimport operacionContext from '../context/operaciones/operacionContext';\r\n\r\nconst editarOperacion = () => {\r\n  \r\n  // Next router\r\n  const router = useRouter();\r\n\r\n  // Acceder al state\r\n  const AuthContext = useContext(authContext);\r\n  const { mensaje, usuarioAutenticado } = AuthContext;\r\n\r\n  const OperacionContext = useContext(operacionContext);\r\n  let { actualizarOperacion, operacion } = OperacionContext;\r\n\r\n  operacion = operacion || [{}];\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n\r\n    if(token) {\r\n      usuarioAutenticado();\r\n    } else {\r\n      router.push('/login');\r\n    }\r\n  \r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  // Formulario y validación con formik y Yup\r\n  const formik = useFormik({\r\n      initialValues: {\r\n        _id: operacion[0]._id,\r\n        concepto: operacion[0].concepto,\r\n        monto: operacion[0].monto,\r\n        fecha: operacion[0].fecha,\r\n        tipo: operacion[0].tipo,\r\n        categoria: operacion[0].categoria,\r\n        usuario: operacion[0].usuario\r\n      },\r\n      validationSchema: Yup.object({\r\n            concepto: Yup.string()\r\n                .required('El concepto es obligatorio'),\r\n            monto: Yup.number()\r\n                .required('El monto es obligatorio'),\r\n            fecha: Yup.date()\r\n                .required('La fecha es obligatoria'),\r\n            tipo: Yup.string()\r\n                .required('El tipo es obligatorio'),\r\n            categoria: Yup.string()\r\n                .required('La categoría es obligatoria')\r\n      }),\r\n      onSubmit: valores => {\r\n          actualizarOperacion(valores);\r\n\r\n          // mostrar mensaje ok\r\n          Swal.fire({\r\n            position: 'center',\r\n            icon: 'success',\r\n            title: 'Operación editada correctamente',\r\n            width: 400,\r\n            height: 400,\r\n            timer: 2000,\r\n            confirmButtonColor: '#60A5FA',\r\n            confirmButtonText: 'Ok!',\r\n          })\r\n          router.push('/listado');\r\n          // reiniciar el form\r\n\r\n      }\r\n  });\r\n\r\n  return (\r\n      <Layout>\r\n        <div className=\"md:w-4/5 xl:w-3/5 mx-auto\">\r\n          <h2 className=\"text-3xl font-sans font-bold text-black-500 text-center my-4\">Editar Operación</h2>\r\n\r\n          <div className=\"flex justify-center mt-5\">\r\n              <div className=\"w-full max-w-lg\">\r\n                  <form\r\n                    className=\"bg-white rounded shadow-md px-8 pt-6 pb-8 mb-20\"\r\n                    onSubmit={formik.handleSubmit}\r\n                  >\r\n                      <div className=\"mb-4\">\r\n                          <label \r\n                            className=\"block text-black text-sm font-bold mb-2\"\r\n                            htmlFor=\"concepto\"\r\n                          >Concepto</label>\r\n                          <input\r\n                              type=\"text\"\r\n                              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                              id=\"concepto\"\r\n                              placeholder=\"Concepto\"\r\n                              value={formik.values.concepto}\r\n                              onChange={formik.handleChange}\r\n                          />\r\n\r\n                          { formik.touched.concepto && formik.errors.concepto ? (\r\n                            <div className=\"my-2 bg-gray-200 border-l-4 border-red-500 text-red-700 p-4\">\r\n                                <p className=\"font-bold\">Error</p>\r\n                                <p>{formik.errors.concepto} </p>\r\n                            </div>\r\n                          ) : null }\r\n                      </div>\r\n\r\n                      <div className=\"mb-4\">\r\n                          <label \r\n                            className=\"block text-black text-sm font-bold mb-2\"\r\n                            htmlFor=\"monto\"\r\n                          >Monto</label>\r\n                          <input\r\n                              type=\"number\"\r\n                              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                              id=\"monto\"\r\n                              placeholder=\"Monto\"\r\n                              value={formik.values.monto}\r\n                              onChange={formik.handleChange}\r\n                          />\r\n\r\n                          { formik.touched.monto && formik.errors.monto ? (\r\n                            <div className=\"my-2 bg-gray-200 border-l-4 border-red-500 text-red-700 p-4\">\r\n                                <p className=\"font-bold\">Error</p>\r\n                                <p>{formik.errors.monto} </p>\r\n                            </div>\r\n                          ) : null }\r\n                      </div>\r\n\r\n                      <div className=\"mb-4\">\r\n                          <label \r\n                            className=\"block text-black text-sm font-bold mb-2\"\r\n                            htmlFor=\"fecha\"\r\n                          >Fecha</label>\r\n                          <input\r\n                              type=\"date\"\r\n                              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                              id=\"fecha\"\r\n                              placeholder=\"Fecha\"\r\n                              value={formik.values.fecha}\r\n                              onChange={formik.handleChange}\r\n                          />\r\n\r\n                          { formik.touched.fecha && formik.errors.fecha ? (\r\n                            <div className=\"my-2 bg-gray-200 border-l-4 border-red-500 text-red-700 p-4\">\r\n                                <p className=\"font-bold\">Error</p>\r\n                                <p>{formik.errors.fecha} </p>\r\n                            </div>\r\n                          ) : null }\r\n                      </div>\r\n\r\n                      { (operacion[0].tipo === 'Ingreso') ? (\r\n\r\n                          <div className=\"mb-4\">\r\n                              <label \r\n                                className=\"block text-black text-sm font-bold mb-2\"\r\n                                htmlFor=\"categoria\"\r\n                              >Categoria</label>\r\n                              <select\r\n                                  type=\"text\"\r\n                                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                                  id=\"categoria\"\r\n                                  placeholder=\"Categoria\"\r\n                                  value={formik.values.categoria}\r\n                                  onChange={formik.handleChange}\r\n                              >\r\n                                    <option value=\"\" defaultValue disabled hidden>Categoría</option>\r\n                                    <option value=\"Regalo\">Regalo</option>\r\n                                    <option value=\"Sueldo\">Sueldo</option>\r\n                                    <option value=\"Préstamo\">Préstamo</option>\r\n                                   \r\n\r\n                              </select>\r\n\r\n                              { formik.touched.categoria && formik.errors.categoria ? (\r\n                                <div className=\"my-2 bg-gray-200 border-l-4 border-red-500 text-red-700 p-4\">\r\n                                    <p className=\"font-bold\">Error</p>\r\n                                    <p>{formik.errors.categoria} </p>\r\n                                </div>\r\n                              ) : null }\r\n                          </div>\r\n\r\n                      ) : (\r\n                          <div className=\"mb-4\">\r\n                              <label \r\n                                className=\"block text-black text-sm font-bold mb-2\"\r\n                                htmlFor=\"categoria\"\r\n                              >Categoria</label>\r\n                              <select\r\n                                  type=\"text\"\r\n                                  className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                                  id=\"categoria\"\r\n                                  placeholder=\"Categoria\"\r\n                                  value={formik.values.categoria}\r\n                                  onChange={formik.handleChange}\r\n                              >\r\n                                    <option value=\"\" defaultValue disabled hidden>Categoría</option>\r\n                                    \r\n                                    <option value=\"Alimentos y bebidas\">Alimentos y bebidas</option>\r\n                                    <option value=\"Artículos de limpieza\">Artículos de limpieza</option>\r\n                                    <option value=\"Esparcimiento\">Esparcimiento</option>\r\n                                    <option value=\"Servicios\">Servicios</option>\r\n                                    <option value=\"Perfumería\">Perfumería</option>\r\n                                    <option value=\"Transporte\">Transporte</option>\r\n\r\n                              </select>\r\n\r\n                              { formik.touched.categoria && formik.errors.categoria ? (\r\n                                <div className=\"my-2 bg-gray-200 border-l-4 border-red-500 text-red-700 p-4\">\r\n                                    <p className=\"font-bold\">Error</p>\r\n                                    <p>{formik.errors.categoria} </p>\r\n                                </div>\r\n                              ) : null }\r\n                          </div>\r\n\r\n                      ) }\r\n\r\n                      <input \r\n                        type=\"submit\"\r\n                        className=\"bg-blue-400 hover:bg-gray-900 w-full p-2 text-white uppercase font-bold\"\r\n                        value=\"Editar Operación\"\r\n                      />\r\n                  </form>\r\n              </div>\r\n          </div>\r\n      </div>\r\n    </Layout>\r\n   );\r\n}\r\n \r\nexport default editarOperacion;"]},"metadata":{},"sourceType":"module"}